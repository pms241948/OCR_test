# PaddleOCR 처리 방식 개선 요약

## 1. 기존 방식 (original_ocr_test.py)
- PaddleOCR의 결과에서 'rec_texts' 키가 있을 때만 텍스트 라인을 추출하여 줄바꿈 없이 모두 이어붙임.
- **좌표 정보, 신뢰도, 레이아웃 등은 전혀 고려하지 않고 단순히 한 줄씩 나열**
- PDF 원본의 레이아웃(문단, 표, 리스트, 제목 등)이나 문장 구조와 상관없이 OCR이 인식한 라인 단위로만 결과가 생성됨.
- **문장 중간에서 줄이 끊기거나, 한 문장이 여러 줄로 쪼개지는 등 과도한 줄바꿈 현상**
- **표, 리스트, 제목 등 문서 구조가 무너지고, 문장 단위가 아닌 어색한 줄바꿈, 조사/어미 분리 등 가독성 저하 현상 발생**
- 신뢰도(정확도)와 관계없이 모든 인식 결과를 포함하므로, 오인식(노이즈)도 그대로 결과에 포함됨
- 한글 문서 특유의 조사/어미 분리, 불필요한 공백, 문장부호 앞뒤 공백 등 후처리가 전혀 없음
- 결과적으로 사람이 읽기에 불편하고, 실제 문서와 유사성이 떨어지는 결과가 생성됨

## 2. 개선 방식 (paddle_text.py)
- PaddleOCR의 결과에서 각 라인의 바운딩 박스 좌표(y, x)와 신뢰도(confidence)를 활용하여, **실제로 같은 행(y좌표가 비슷한 라인)끼리 한 줄로 병합**
- **신뢰도가 낮은 텍스트(노이즈)는 결과에서 제외**하여 오인식/노이즈를 줄임
- **한글 조사/어미 분리, 불필요한 공백, 문장부호 앞뒤 공백 등 한글 문서에 특화된 후처리(post-processing) 적용**
- **너무 짧은 줄은 앞뒤 줄과 병합**하거나, **제목/목록/표 등은 원래 줄바꿈을 최대한 보존**하는 등 다양한 규칙을 적용하여 가독성 향상
- **PDF의 레이아웃(문단, 표, 리스트, 제목 등)과 실제 문장 구조를 최대한 반영**하여 결과를 생성
- 문장부호, 조사, 어미, 리스트/표/제목 등 다양한 패턴을 인식하여, **실제 문서와 유사한 구조로 결과를 재구성**
- **빈 줄, 과도한 연속 줄바꿈, 불필요한 공백 등도 정제**하여 깔끔한 결과 제공
- 결과적으로 사람이 읽기에 자연스럽고, 실제 문서와 유사성이 높은 결과를 생성함

## 3. 성능 및 결과 변화
- **줄바꿈이 자연스러워지고, 문장 단위로 결과가 구성되어 가독성이 크게 향상됨.**
- **불필요한 줄바꿈, 조사/어미 분리, 공백 등 한글 문서에서 자주 발생하는 문제들이 대폭 개선됨.**
- **표, 리스트, 제목 등은 원본 레이아웃을 최대한 보존하면서, 일반 문장은 한 줄로 자연스럽게 이어짐.**
- **신뢰도 필터링으로 오인식(노이즈) 줄이고, 실제로 읽기 좋은 결과를 얻을 수 있음.**
- **PDF 원본의 레이아웃과 문장 구조를 최대한 반영하여, 실제 문서와 유사한 결과를 얻을 수 있음.**

---

**요약:**
- 기존 방식은 단순 라인 나열로 가독성이 떨어졌으나,
- 개선 방식은 좌표/신뢰도/한글 후처리/레이아웃 보존 등 다양한 기법을 적용하여
- 실제 문서와 유사한, 읽기 좋은 결과를 얻을 수 있도록 성능이 크게 향상됨.
